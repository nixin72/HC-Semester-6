@using RAC.BusinessLogic
@using RAC.RACModels
@model RAC.Models.RegisterViewModel

@{
    ViewBag.Title = "Register";
}

@section styles {
    @Styles.Render("~/Styles/register.css")
}

<h2>@ViewBag.Title</h2>
@using (Html.BeginForm("Register", "Account", FormMethod.Post, new { role = "form" }))
{
    @Html.AntiForgeryToken()
    <h4>Personal Information</h4>
    <hr class='form-divider' />
    @Html.ValidationSummary("", new { @class = "text-danger" })
    <div class='personal-information-container'>
        <div class='row'>
            <div class='col-md-6'>
                <div class='form-group'>
                    @Html.LabelFor(m => m.FirstName, new { @class = "control-label" })
                    <div>
                        @Html.TextBoxFor(m => m.FirstName, new { @class = "form-control", tabindex = 1, placeholder = "First Name" })
                        @Html.ValidationMessageFor(m => m.FirstName, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>
            <div class='col-md-6'>
                <div class='form-group'>
                    @Html.LabelFor(m => m.LastName, new { @class = "control-label" })
                    <div>
                        @Html.TextBoxFor(m => m.LastName, new { @class = "form-control", tabindex = 2, placeholder = "Last Name" })
                        @Html.ValidationMessageFor(m => m.LastName, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>
        </div>
        <div class='row'>
            <div class='col-md-6'>
                <div class='form-group'>
                    @Html.LabelFor(m => m.Street, new { @class = "control-label" })
                    <div>
                        @Html.TextBoxFor(m => m.Street, new { @class = "form-control", tabindex = 3, placeholder = "Civic #, Street Name" })
                    </div>
                </div>
            </div>
            <div class='col-md-6'>
                <div class="form-group">
                    @Html.LabelFor(m => m.City, new { @class = "control-label" })
                    <div>
                        @Html.TextBoxFor(m => m.City, new { @class = "form-control", tabindex = 4, placeholder = "City/Town Name" })
                    </div>
                </div>
            </div>
        </div>
        <div class='row'>
            <div class='col-md-6'>
                <div class='form-group'>
                    @Html.LabelFor(m => m.Province, new { @class = "control-label" })
                    <div>
                        @Html.DropDownListFor(m => m.Province, EnumHelper.GetSelectList(typeof(provinces)), new { @class = "form-control", tabindex = 5 })
                    </div>
                </div>
            </div>
            <div class='col-md-6'>
                <div class='form-group'>
                    @Html.LabelFor(m => m.Country, new { @class = "control-label" })
                    <div>
                        @Html.TextBoxFor(m => m.Country, new { @class = "form-control", Value = "Canada", tabindex = 6 })
                    </div>
                </div>
            </div>
        </div>
        <div class='row'>
            <div class='col-md-6'>
                <div class='form-group'>
                    @Html.LabelFor(m => m.HomePhone, new { @class = "control-label" })
                    <div>
                        @Html.TextBoxFor(m => m.HomePhone, new { @class = "form-control", tabindex = 7, placeholder = "###-###-####" })
                        @Html.ValidationMessageFor(m => m.HomePhone, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>
            <div class='col-md-6'>
                <div class='form-group'>
                    @Html.LabelFor(m => m.WorkPhone, new { @class = "control-label" })
                    <div>
                        @Html.TextBoxFor(m => m.WorkPhone, new { @class = "form-control", tabindex = 8, placeholder = "###-###-####" })
                        @Html.ValidationMessageFor(m => m.WorkPhone, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>
        </div>
    </div>

    <hr class='form-divider' />
    <h4>Account Information</h4>
    <hr class='form-divider' />

        <div class='account-information-container'>
            <div class='row'>
                <div class='col-md-6'>
                    <div class='form-group'>
                        @Html.LabelFor(m => m.Email, new { @class = "control-label" })
                        <div>
                            @Html.TextBoxFor(m => m.Email, new { @class = "form-control", tabindex = 9, placeholder = "contact@example.com" })
                            @{ Html.ValidateFor(m => m.Email); }
                            @Html.ValidationMessageFor(m => m.Email, "", new { @class = "text-danger" })
                        </div>
                    </div>
                </div>
                <div class='col-md-6'>
                    <div class='form-group'>
                        @Html.LabelFor(m => m.PreferredMethodOfContact, new { @class = "control-label" })
                        <div>
                            @Html.DropDownListFor(m => m.PreferredMethodOfContact, EnumHelper.GetSelectList(typeof(PreferredMethodOfContact)), null, new { @class = "form-control", tabindex = 10 })
                            @{ Html.ValidateFor(m => m.PreferredMethodOfContact); }
                            @Html.ValidationMessageFor(m => m.PreferredMethodOfContact, "", new { @class = "text-danger" })
                        </div>
                    </div>
                </div>
            </div>
            <div class='row'>
                <div class='col-md-6'>
                    <div class='form-group' id='passDiv'>
                        @Html.LabelFor(m => m.Password, new { id = "txtPassword", @class = "control-label" })
                        <div>
                            @Html.PasswordFor(m => m.Password, new { @class = "form-control", tabindex = 10, placeholder = "Choose a secure password" })
                            @Html.ValidationMessageFor(m => m.Password, "", new { @class = "text-danger", id = "passErrMsg" })
                        </div>
                    </div>
                </div>
                <div class='col-md-6'>
                    <div class='form-group'>
                        @Html.LabelFor(m => m.ConfirmPassword, new { @class = "control-label" })
                        <div>
                            @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "form-control", tabindex = 11, placeholder = "Confirm your secure password" })
                            @Html.ValidationMessageFor(m => m.ConfirmPassword, "", new { @class = "text-danger" })
                        </div>
                    </div>
                </div>
            </div>
            <div class='row'>
                <div class='col-md-12'>
                    <span class="help-block">
                        Passwords must:
                        <ul>
                            <li>Contain between 8 and 20 characters</li>
                            <li>Contain only numbers and letters</li>
                            <li>Contain at least one letter</li>
                            <li>Contain at least one character</li>
                            <li>Contain no special symbols or characters</li>
                        </ul>
                    </span>
                </div>
            </div>
            <div class='row'>
                <div class='col-md-6'>
                    <div class='form-group'>
                        <label class="control-label">*Program</label>
                        <div>
                            @{
                                IList<SelectListItem> programs = ProgramBLL.GetProgramsOffered();
                            }
                            @Html.DropDownListFor(model => model.ProgramId, programs, "Choose Program", new { @class = "form-control", tabindex = 12 })
                            @Html.ValidationMessageFor(m => m.ProgramId, "", new { @class = "text-danger" })
                        </div>
                        <div id='genEdDiv'>
                            <div class="checkbox">
                                @* ReSharper disable once Html.IdNotResolved *@
                                <label>
                                    @Html.CheckBoxFor(model => model.GenEdOnly, new { id = "chbGenEdOnly" })
                                    General Education Only
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class='col-md-6'>
                    <div class='form-group'>
                        <label class="control-label">*Please verify that you are human</label>
                        @* ReSharper disable once UnknownCssClass *@
                        <div class="form-control-static g-recaptcha" data-sitekey="6Ld1_EEUAAAAAKwCZyen8T6uw06RsoekSVh4GcHw"></div>
                        <br />
                        <div class="text-danger">@ViewBag.CaptchaMessage</div>
                    </div>
                </div>
            </div>
        </div>

        <hr class='form-divider' />

        <div id='privacyPolicyDiv row'>
            <div class="checkbox col-md-12">
                @* ReSharper disable once Html.IdNotResolved *@
                <label for='chbPrivacyPolicy'>
                    @Html.CheckBoxFor(model => model.GenEdOnly, new { id = "chbPrivacyPolicy" })
                    I have read and accepted the @Html.ActionLink("Privacy Policy", "PrivacyPolicy", "Account", new { target = "_blank" })
                </label>
            </div>
        </div>
        <div class='row'>
            <div class='col-md-12'>
                <input class="btn btn-default" disabled='disabled' id='btnSubmit' type="submit" value="Register" /> |
                @Html.ActionLink("Return to login", "Login", "Account")
            </div>
        </div>
                                }
<div id='uri' uri-hasgeneds='@Url.Action("HasGenEds", "Candidate")'></div>

@section scripts {
    @Scripts.Render("~/Scripts/jquery.validate.js")
    @Scripts.Render("~/Scripts/jquery.validate.unobtrusive.js")
    @Scripts.Render("~/Scripts/register.js")
    <script src='https://www.google.com/recaptcha/api.js'></script>
}